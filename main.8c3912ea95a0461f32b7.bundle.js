(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{272:function(module,exports,__webpack_require__){__webpack_require__(273),__webpack_require__(418),module.exports=__webpack_require__(419)},337:function(module,exports){},419:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_html__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(271);module._StorybookPreserveDecorators=!0,Object(_storybook_html__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(607),__webpack_require__(608)],module)}.call(this,__webpack_require__(420)(module))},607:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=607},608:function(module,exports,__webpack_require__){var map={"./index.stories.ts":626};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=608},624:function(module,exports,__webpack_require__){var api=__webpack_require__(167),content=__webpack_require__(625);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1},exported=(api(content,options),content.locals?content.locals:{});module.exports=exported},625:function(module,exports,__webpack_require__){(exports=__webpack_require__(168)(!1)).push([module.i,".cm-cdata {\r\n    color: rgba(128, 128, 128, 0.3);\r\n}",""]),module.exports=exports},626:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"XmlMixedMode",(function(){return XmlMixedMode}));__webpack_require__(26),__webpack_require__(111),__webpack_require__(64),__webpack_require__(45);var codemirror=__webpack_require__(3),codemirror_default=__webpack_require__.n(codemirror);__webpack_require__(609),__webpack_require__(611),__webpack_require__(612),__webpack_require__(613),__webpack_require__(614),__webpack_require__(270),__webpack_require__(615),__webpack_require__(616),__webpack_require__(618),__webpack_require__(269),__webpack_require__(619),__webpack_require__(43),__webpack_require__(44),__webpack_require__(100),__webpack_require__(34),__webpack_require__(62),__webpack_require__(52),__webpack_require__(35),__webpack_require__(101),__webpack_require__(53),__webpack_require__(163),__webpack_require__(65),__webpack_require__(620),__webpack_require__(621),__webpack_require__(25),__webpack_require__(622),__webpack_require__(54),__webpack_require__(55),__webpack_require__(46),__webpack_require__(96),__webpack_require__(164),__webpack_require__(36),__webpack_require__(47),__webpack_require__(623);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null!=arguments[i]?arguments[i]:{},i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getTagRegexp(tagName,anchored){return new RegExp((anchored?"^":"")+"</s*"+tagName+"s*>","i")}var REG_IN_TAG=/^([\S]+) (.*)/,REG_TAG=/\btag\b/,REG_ATTR=/\s+(\S+)\s*=\s*('([^']*)'|"([^"]*)")/g;function createTag(text){var _ref2=_slicedToArray(REG_IN_TAG.exec(text)||[],3),name=_ref2[1],content=_ref2[2];if(!name)return null;for(var parts,attributes={};null!==(parts=REG_ATTR.exec(content));)attributes[parts[1]]=parts[3]||parts[4];return{name:name,attributes:attributes}}function defaultDecideMode(){return null}codemirror_default.a.defineMode("xmlmixed",(function(config){var parserConfig=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},xmlMode=codemirror_default.a.getMode(config,_objectSpread({name:"xml"},parserConfig.xmlOptions)),decideMode=parserConfig.decideMode||defaultDecideMode;function xml(stream,state){var style=state.xmlMode.token(stream,state.xmlState),tag=style&&REG_TAG.test(style),tagName=state.xmlState.tagName;if(tag&&!/[<>\s\/]/.test(stream.current())&&tagName)state.inTag=tagName+" ";else if(state.inTag&&tag&&/>$/.test(stream.current())){var tagObj=createTag(state.inTag);if(tagObj){var _mode=decideMode(tagObj),modeObj=_mode&&codemirror_default.a.getMode(config,_mode);modeObj&&(tagObj.mode=modeObj,state.tag=tagObj,state.token=xmlMixed,state.localMode=modeObj,state.localState=codemirror_default.a.startState(modeObj,xmlMode.indent(state.xmlState,"","")))}state.inTag=null}else state.inTag&&(state.inTag+=stream.current(),stream.eol()&&(state.inTag+=" "));return style}function xmlMixed(stream,state){var _state$tag2;if(state.cdataEaten=!1,state.cdata&&stream.match("]]>",!0))return state.cdata=!1,state.cdataEaten=!0,"cdata close";if(!state.cdata){var _state$tag;if(stream.match("<![CDATA[",!0))return state.cdata=!0,state.cdataEaten=!0,"cdata open";if(stream.match(getTagRegexp(null===(_state$tag=state.tag)||void 0===_state$tag?void 0:_state$tag.name,!0),!1))return state.tag=null,state.token=xml,state.localMode=state.localState=null,null}var idxCdOpen=state.cdata?-1:stream.string.indexOf("<![CDATA[",stream.start),idxCdClose=state.cdata?stream.string.indexOf("]]>",stream.start):-1,idxExit=state.cdata?-1:stream.string.search(getTagRegexp(null===(_state$tag2=state.tag)||void 0===_state$tag2?void 0:_state$tag2.name,!1));idxExit<stream.start&&(idxExit=-1);var style=state.localMode.token(stream,state.localState),backUp=!1;return-1!==idxCdOpen&&stream.pos>idxCdOpen&&(stream.backUp(stream.pos-idxCdOpen),backUp=!0),-1!==idxCdClose&&stream.pos>idxCdClose&&(stream.backUp(stream.pos-idxCdClose),backUp=!0),-1!==idxExit&&stream.pos>idxExit&&(stream.backUp(stream.pos-idxExit),backUp=!0),backUp&&stream.start===stream.pos?null:style}var theMode={startState:function startState(){var state=codemirror_default.a.startState(xmlMode);return{token:xml,inTag:null,tag:null,localMode:null,localState:null,xmlMode:xmlMode,xmlState:state,cdata:!1,cdataEaten:!1}},copyState:function copyState(state){var local=null;state.localState&&state.localMode&&(local=codemirror_default.a.copyState(state.localMode,state.localState));var xmlState=null;return state.xmlState&&(xmlState=codemirror_default.a.copyState(xmlMode,state.xmlState)),{token:state.token,inTag:state.inTag,tag:state.tag,localMode:state.localMode,localState:local,xmlMode:state.xmlMode,xmlState:xmlState,cdata:state.cdata,cdataEaten:state.cdataEaten}},token:function token(stream,state){return state.token(stream,state)},indent:function indent(state,textAfter,line){return!state.localMode||/^\s*<\//.test(textAfter)?xmlMode.indent(state.xmlState,textAfter,line):state.localMode.indent?state.localMode.indent(state.localState,textAfter,line):codemirror_default.a.Pass},innerMode:function innerMode(state){return state.tag&&state.cdataEaten?{state:state,mode:theMode}:{state:state.localState||state.xmlState,mode:state.localMode||xmlMode}},closeBrackets:{pairs:""}};return theMode})),codemirror_default.a.registerGlobalHelper("fold","cdata",(function(){return!0}),(function(cm,start){var ch=start.ch,line=start.line,text=cm.getLine(line),idx=text.indexOf("<![CDATA[",ch);if(-1<idx){var _type=cm.getTokenTypeAt(codemirror_default.a.Pos(line,idx+1));if(_type&&-1!==_type.indexOf("cdata open")){var from=codemirror_default.a.Pos(line,idx+9),end=text.indexOf("]]>",idx+9);if(-1<end)return{from:from,to:codemirror_default.a.Pos(line,end)};for(var l=line+1;l<=cm.lastLine();++l)if(-1<(end=(text=cm.getLine(l)).indexOf("]]>")))return{from:from,to:codemirror_default.a.Pos(l,end)}}}}));__webpack_require__(624);function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}__webpack_exports__.default={title:"Demo"};var Options={base:{mode:{name:"xmlmixed",decideMode:function decideMode(tag){return"SRC"===tag.name.toUpperCase()?{name:"javascript",mode:"text/typescript"}:"CODE"===tag.name.toUpperCase()?tag.attributes.language||"javascript":void 0}},lineNumbers:!0,autoCloseBrackets:!0,autoCloseTags:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],content:'\n<Root>\n  <Src>\n    CodeMirror.fromTextArea(textArea, {\n      mode: {\n        name: \'xmlmixed\',\n        decideMode(tag) {\n          if (\'SRC\' === tag.name.toUpperCase()) {\n            return {\n              name: \'javascript\',\n              mode: "text/typescript",\n            };\n          }\n          if (\'CODE\' === tag.name.toUpperCase()) {\n            return tag.attributes[\'language\'] || \'javascript\';\n          }\n        }\n      },\n    });\n  </Src>\n  \x3c!-- not spec language, use default javascript --\x3e\n  <Code>\n    // javascript code\n    const a = 1;\n    const b = 2;\n    const plus = (a, b) => a + b;\n    plus(a, b);\n  </Code>\n  \x3c!-- without cdata tag --\x3e\n  <Code language="groovy">\n    // groovy code\n    def a = 1\n    def b = "text"\n    return "${a}-${b}"\n  </Code>\n  \x3c!-- with cdata tag --\x3e\n  <Code language="groovy">\n    <![CDATA[\n    // groovy code\n    def a = 1\n    def b = "text"\n    def c = 3\n    if (a < c) {\n      return "${a}-${b}"\n    } else {\n      return "${b}-${a}"\n    }\n    ]]>\n  </Code>\n</Root>'}},XmlMixedMode=function(){var textAreaElement=document.createElement("textarea");return textAreaElement.id="codemirror-base",textAreaElement};!function registerTrigger(onPageInit,onPageChange){document.addEventListener("DOMContentLoaded",(function(){onPageInit&&onPageInit(),new MutationObserver((function callback(mutationsList){for(var i=0,len=mutationsList.length;i<len;i++)if("childList"==mutationsList[i].type){onPageChange&&onPageChange();break}})).observe(document.getElementById("root"),{childList:!0,subtree:!1})}),!1)}(void 0,(function(){for(var _i=0,_Object$keys=Object.keys(Options);_i<_Object$keys.length;_i++){var _name=_Object$keys[_i],_Options$_name=Options[_name],content=_Options$_name.content,option=_objectWithoutProperties(_Options$_name,["content"]),textArea=document.getElementById("codemirror-".concat(_name));if(textArea&&"none"!==textArea.style.display){var cm=codemirror.fromTextArea(textArea,option);cm.setValue(content);for(var i=0;i<cm.lineCount();++i)cm.indentLine(i)}}}))}},[[272,1,2]]]);
//# sourceMappingURL=main.8c3912ea95a0461f32b7.bundle.js.map